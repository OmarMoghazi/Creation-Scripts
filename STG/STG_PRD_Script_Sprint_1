/* DDL for Table ACTB_HISTORY */

DROP TABLE STG_PRD_DB.ACTB_HISTORY;
CREATE TABLE STG_PRD_DB.ACTB_HISTORY
(
 TRN_REF_NO 			STRING,
 EVENT_SR_NO 			INT,
 EVENT 				STRING,
 AC_BRANCH 			STRING,
 AC_NO 				STRING,
 AC_CCY 			STRING,
 DRCR_IND 			STRING,
 TRN_CODE 			STRING,
 AMOUNT_TAG 			STRING,
 FCY_AMOUNT 			DOUBLE,
 EXCH_RATE 			DOUBLE,
 LCY_AMOUNT 			DOUBLE,
 RELATED_CUSTOMER 		STRING,
 RELATED_ACCOUNT 		STRING,
 RELATED_REFERENCE 		STRING,
 MIS_FLAG 			STRING,
 MIS_HEAD 			STRING,
 TRN_DT 			DATE,
 VALUE_DT 			DATE,
 TXN_INIT_DATE 			DATE,
 FINANCIAL_CYCLE 		STRING,
 PERIOD_CODE 			STRING,
 INSTRUMENT_CODE 		STRING,
 BANK_CODE 			STRING,
 TYPE 				STRING,
 CATEGORY 			STRING,
 CUST_GL 			STRING,
 MODULE 			STRING,
 AC_ENTRY_SR_NO 		INT,
 IB 				STRING,
 FLG_POSITION_STATUS 		STRING,
 GLMIS_UPDATE_FLAG 		STRING,
 USER_ID 			STRING,
 CURR_NO 			INT,
 BATCH_NO 			STRING,
 PRINT_STAT 			STRING,
 PRODUCT_ACCRUAL 		STRING,
 AUTH_ID 			STRING,
 PRODUCT 			STRING,
 GLMIS_VAL_UPD_FLAG 		STRING,
 EXTERNAL_REF_NO 		STRING,
 ROWHASH 			STRING,
 LAST_UPD_DATE 			INT,
 LD_DATE 			INT
)
CLUSTERED BY (AC_NO,TRN_REF_NO) INTO 32 BUCKETS
STORED AS ORC
TBLPROPERTIES ('transactional'='true', "orc.compress"="SNAPPY");


/* DDL for Table ATM */
DROP TABLE STG_PRD_DB.ATM;
CREATE TABLE STG_PRD_DB.ATM 
(
 UNIT 				INT, 
 INSTITUTIONID 			STRING, 
 GROUP_NAME 			STRING, 
 GOSERVICE 			STRING, 
 MODEL 				INT, 
 MAKE 				STRING, 
 LOCAL_PIN 			STRING, 
 ADD_TOTAL 			STRING, 
 TXN_ALLOW 			STRING, 
 CURRENCY 			INT, 
 LOCATION 			STRING, 
 LOGGING 			STRING, 
 GEO_LOC 			STRING, 
 ACCEPTORNAME 			STRING, 
 TERMID 			STRING, 
 O_ROWID 			INT, 
 H_LOCATION 			STRING, 
 WD_NO_RPT 			INT, 
 TIME_OFFSET 			INT, 
 MAC_REQUIRED 			STRING, 
 MAC_NCR_TXNREQ 		STRING, 
 MAC_NCR_TXNREPLY 		STRING, 
 MAC_NCR_SOLITSTAT 		STRING, 
 MAC_NCR_OTHER 			STRING, 
 MAC_NCR_TRACK1 		STRING, 
 MAC_NCR_TRACK2 		STRING, 
 MAC_NCR_TRACK3 		STRING, 
 FUNC_FLAGS 			STRING, 
 MAXDISPENSE 			INT, 
 TERM_COMP 			STRING, 
 HDL_ACK 			STRING, 
 MAC_NCR_EMV 			STRING, 
 PRIORITY_ROUTING 		STRING, 
 INTERNAL_UNIT 			INT, 
 FIT_LIST_ID 			INT, 
 CASSETTE_CFG_ID 		INT, 
 DISPENSE_TABLE_ID 		INT, 
 MANUFACTURER 			STRING, 
 EMULATION 			STRING, 
 MAX_COIN_DISPENSE 		INT, 
 ROWHASH 			STRING, 
 LD_DATE 			INT, 
 LAST_UPD_DATE 			INT
)
CLUSTERED BY (UNIT, INSTITUTIONID, GROUP_NAME) INTO 2 BUCKETS
STORED AS ORC
TBLPROPERTIES ('transactional'='true', "orc.compress"="SNAPPY");



/* DDL for Table BA_ACCT_STATUS */
DROP TABLE STG_PRD_DB.BA_ACCT_STATUS;
CREATE TABLE STG_PRD_DB.BA_ACCT_STATUS 
(
 COD_MODULE 			STRING, 
 COD_ACCT_STATUS 		INT, 
 TXT_ACCT_STATUS 		STRING, 
 FLG_MNT_STATUS 		STRING, 
 COD_MNT_ACTION 		STRING, 
 COD_LAST_MNT_MAKERID 		STRING, 
 COD_LAST_MNT_CHKRID 		STRING, 
 DAT_LAST_MNT 			DATE, 
 CTR_UPDAT_SRLNO 		INT, 
 ROWHASH 			STRING, 
 LD_DATE 			INT, 
 LAST_UPD_DATE 			INT
)
CLUSTERED BY (COD_ACCT_STATUS) INTO 2 BUCKETS
STORED AS ORC
TBLPROPERTIES ('transactional'='true', "orc.compress"="SNAPPY");


/* DDL for Table BA_BANK_MAST */

CREATE TABLE STG_PRD_DB.BA_BANK_MAST 
(
 COD_BANK 				INT, 
 NAM_BANK 				STRING, 
 NAM_BANK_SHRT 				STRING, 
 TXT_BANK_ADD1 				STRING, 
 TXT_BANK_ADD2 				STRING, 
 TXT_BANK_ADD3 				STRING, 
 NAM_BANK_CITY 				STRING, 
 NAM_BANK_STATE 			STRING, 
 TXT_BANK_ZIP 				STRING, 
 NAM_BANK_COUNTRY 			STRING, 
 DAT_LAST_PROCESS 			DATE, 
 DAT_PROCESS 				DATE, 
 DAT_NEXT_PROCESS 			DATE, 
 FLG_AUTO_ACCT 				STRING, 
 COD_BANK_TAXID 			STRING, 
 COD_BANK_CENTRAL 			INT, 
 COD_LO_HO 				INT, 
 COD_CC_HO 				INT, 
 COD_BANK_LCY 				INT, 
 COD_CCY_HO 				INT, 
 COD_GL_SUSPENSE_CR 			INT, 
 COD_GL_SUSPENSE_DR 			INT, 
 COD_GL_IB_CR 				INT, 
 COD_GL_IB_DR 				INT, 
 COD_GL_TDS 				INT, 
 COD_GL_VAT 				INT, 
 CTR_YR_BEG_MTH 			INT, 
 AMT_HI_VAL_CHQ 			INT, 
 CTR_CLR_PER_DAY 			INT, 
 PRD_INT_INDX_RATE 			INT, 
 CTR_IDD_ARR_MAX_DYS 			INT, 
 DAT_TDS_YR_END 			DATE, 
 FRQ_TDS_REMIT 				STRING, 
 DAT_TDS_NEXT_REMIT 			DATE, 
 RAT_VAT 				INT, 
 FRQ_VAT_REMIT 				STRING, 
 DAT_VAT_YR_END 			DATE, 
 DAT_VAT_NEXT_REMIT 			DATE, 
 CTR_WEEK_BEG_DAY 			INT, 
 TXT_WEEK_WRK_DAYS 			STRING, 
 DAT_PROC_STL 				DATE, 
 DAT_PROC_CHQ 				DATE, 
 DAT_PROC_LN 				DATE, 
 DAT_PROC_TD 				DATE, 
 DAT_PROC_GL 				DATE, 
 RAT_VAR_TD_OD 				INT, 
 TDS_CIRCLE_REF_NO 			STRING, 
 CTR_TDS_BEGIN_MTH 			INT, 
 FLG_MNT_STATUS 			STRING, 
 COD_MNT_ACTION 			STRING, 
 COD_LAST_MNT_MAKERID 			STRING, 
 COD_LAST_MNT_CHKRID 			STRING, 
 DAT_LAST_MNT 				DATE, 
 CTR_UPDAT_SRLNO 			INT, 
 DAT_OLTP_LOG 				DATE, 
 COD_BANK_IC 				INT, 
 FLG_INTERFACE 				STRING, 
 FLG_FIS_INTERFACE 			STRING, 
 FRQ_RSV_CALC 				INT, 
 AMT_VAT 				INT, 
 COD_FDT_BRIDGE_GL 			INT, 
 FLG_HOLD_AMT 				STRING, 
 COD_GL_BANK_CASH 			INT, 
 COD_GL_VAULT_CASH 			INT, 
 COD_GL_OVERAGE 			INT, 
 COD_GL_SHORTAGE 			INT, 
 ROWHASH 				STRING, 
 LD_DATE 				INT, 
 LAST_UPD_DATE 				INT
)
STORED AS ORC
TBLPROPERTIES ('transactional'='true', "orc.compress"="SNAPPY");
























































-- DDL for Table ISTCARD

DROP TABLE STG_PRD_DB.ISTCARD;
 CREATE TABLE STG_PRD_DB.ISTCARD 
 ( 
 PAN 			    STRING, 
 BASE			    STRING, 
 REGION 		    STRING, 
 BRANCH 		    STRING, 
 MISID 			    STRING, 
 GROUPCODE 		    STRING, 
 CARDTYPE 		    STRING, 
 STATUS 		    INT, 
 EXPIRYDATE 		    DATE, 
 PRIMARYACCT 		    STRING, 
 PRIMARYACCTTYPE 	    STRING, 
 SECONDARYACCT 		    STRING, 
 SECONDARYACCTTYPE 	    STRING, 
 RELATIONINDICATOR 	    STRING, 
 LIMITINDICATOR 	    STRING, 
 LANGUAGECODE 		    STRING, 
 TXNCODE		    STRING, 
 LAST_ACTIVITY_DATE 	    DATE, 
 LAST_ACTIVITY_TIME 	    INT, 
 PKVI 			    STRING, 
 PVV 			    STRING, 
 CASH_WD_AMT_USED 	    DOUBLE, 
 CASH_WD_COUNT 		    INT, 
 CASH_WD_DATE 		    DATE, 
 CASH_WD_TIME 		    INT, 
 TC_WD_AMT_USED 	    DOUBLE, 
 TC_WD_COUNT 		    INT, 
 TC_WD_DATE 		    DATE, 
 TC_WD_TIME 		    INT, 
 CASH_TC_AMT_USED	    DOUBLE, 
 CASH_TC_DATE 		    DATE, 
 CASH_TC_TIME 		    INT, 
 PURCH_AMT_USED 	    DOUBLE, 
 PURCH_COUNT 		    INT, 
 PURCH_DATE 		    DATE, 
 PURCH_TIME 		    INT, 
 TSF_BASE_CUR_USED 	    DOUBLE, 
 TSF_BASE_CUR_DATE 	    DATE, 
 TSF_BASE_CUR_TIME 	    INT, 
 TSF_MULTI_CUR_USED 	    DOUBLE, 
 TSF_MULTI_CUR_DATE 	    DATE, 
 TSF_MULTI_CUR_TIME 	    INT, 
 PINRETRY 		    INT, 
 BLOCKCODE 		    STRING, 
 ALTBLOCKCODE 		    STRING, 
 CREDIT_LIMIT 		    DOUBLE, 
 CREDIT_LIMIT_USED 	    DOUBLE, 
 CASH_ADVANCE_LIMIT 	    DOUBLE, 
 CASH_ADVANCE_USED 	    DOUBLE, 
 DECLINE_COUNT 		    INT, 
 DECLINE_DATE 		    DATE, 
 DECLINE_TIME 		    INT, 
 TEMP_PKVI 		    STRING, 
 TEMP_PVV 		    STRING, 
 TPKVI 			    STRING, 
 TPVV 			    STRING, 
 TPINRETRY 		    INT, 
 TEMP_TPKVI 		    STRING, 
 TEMP_TPVV 		    STRING, 
 CONSENT_DATE 		    DATE, 
 SEQ_NO 		    INT, 
 OLD_EXP_DATE 		    DATE, 
 CASH_DEP_USED 		    DOUBLE, 
 CASH_DEP_DATE 		    DATE, 
 PINOFFSET 		    STRING, 
 TEMP_PINOFFSET 	    STRING, 
 TPINOFFSET 		    STRING, 
 TEMP_TPINOFFSET 	    STRING, 
 BIN 			    STRING, 
 MASK_PAN 		    STRING, 
 EMV_FLAG 		    STRING, 
 KYC 			    STRING, 
 ROWHASH 		    STRING, 
 LD_DATE 		    INT, 
 LAST_UPD_DATE 		    INT
 )
CLUSTERED BY (PAN , MISID,BRANCH,BIN) INTO 32 BUCKETS
STORED AS ORC
TBLPROPERTIES ('transactional'='true', "orc.compress"="SNAPPY");


-- DDL for Table ISTCARDTYPE_DESC

DROP TABLE STG_PRD_DB.ISTCARDTYPE_DESC;
CREATE TABLE STG_PRD_DB.ISTCARDTYPE_DESC 
( CARDTYPE 		STRING, 
 E_DESC 		STRING,
 PROVIDER 		STRING,
 ROWHASH 		STRING, 
 LD_DATE 		INT, 
 LAST_UPD_DATE 		INT
 )
CLUSTERED BY (CARDTYPE) INTO 2 BUCKETS
STORED AS ORC
TBLPROPERTIES ('transactional'='true', "orc.compress"="SNAPPY");



